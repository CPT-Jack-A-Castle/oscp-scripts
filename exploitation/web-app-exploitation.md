# Web App Exploitation

## Enumeration
Techniques for discovering web applciation vulnerabilities - repeated from active recon page for convenience. 

- **manual inspection**
    - check `robots.txt` ,`sitemap.xml`, `.svn`, `.DS_STORE`
    - view the page source for references to plugins/libs, hidden form fields, prettify minimized jquery
    - view server response headers
    - underlying server software
    - check for admin consoles like `manager/html` and `/phpmyadmin`
        - sometimes hosted on custom ports, check the specific application server software documentation

- **nmap scripts** - `nmap -p 80,443 --script "http-headers, vulners" {ip-range}`

- **fuff** - fuzzing tool that can be used to discover subdomains, hidden directories/files, vhosts, etc. 
    - subdomains
        - `ffuf -w /usr/share/wordlists/SecLists/Discovery/DNS/subdomains-top1million-5000.txt:FUZZ -u http://FUZZ.{domain}`
    - hidden directories/files/extensions , smallish
        - `ffuf -w /opt/useful/SecLists/Discovery/Web-Content/directory-list-2.3-medium.txt:FUZZ -u http://{domain}/FUZZ/ -recursion`
        - `ffuf -w /opt/useful/SecLists/Discovery/Web-Content/raft-large-files.txt:FUZZ -u http://{domain}/FUZZ -recursion`
        - `ffuf -w /opt/useful/SecLists/Discovery/Web-Content/web-extensions.txt:FUZZ -u http://{domain}/indexFUZZ`
    - beefy lists:
        - `ffuf -w /opt/useful/SecLists/Discovery/Web-Content/combined_directories.txt:FUZZ -u http://domain/FUZZ -recursion`
        - `ffuf -w /opt/useful/SecLists/Discovery/Web-Content/combined_words.txt:FUZZ -u http://domain/FUZZ -recursion`
    - vhosts
        - `ffuf -w /usr/share/wordlists/SecLists/Discovery/DNS/subdomains-top1million-5000.txt:FUZZ -u https://{ip-address}/ -H 'Host: FUZZ.{domain}.com'`
 
 - **dirb** - fuzzing tool that offsec uses
    -  `dirb http://{target-ip}`

- [nikto](https://github.com/sullo/nikto) - web server vulnerability scanner
    - proxy with burp to monitor and review results during the scan: `nikto -h http://{target-ip}/ -useragent "Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101 Firefox/78.0" --useproxy http://localhost:8080/`
    - `nikto {ip-address} -timeout 20` (default port 80)
	- other useful options
		- `-evasion` = evasion techniques to like url encoding
		- `-404code` = treat these http codes as 404s
		- `-404string`  = treat things strings in response body as 404s
		- `-port` for nonstandard port 
		- `-ssl`
		- `-Tuning` what checks to look for, for example -T 1,2,4,5,7,8,9

### Offsec Staff recommended wordlists
- `/usr/share/wordlists/SecLists/Discovery/Web-Content/raft-large-files.txt`
- `/usr/share/wordlists/SecLists/Discovery/Web-Content/raft-large-directories.txt`


## exploitation
- **default credentials **
	- [Seclist Default Creds](https://github.com/danielmiessler/SecLists/blob/master/Passwords/Default-Credentials/default-passwords.csv)
	- [Master Default Creds](https://github.com/ihebski/DefaultCreds-cheat-sheet)

- **password spray with burpsuite**
